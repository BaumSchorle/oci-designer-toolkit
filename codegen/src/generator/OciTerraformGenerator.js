/*
** Copyright (c) 2020, 2022, Oracle and/or its affiliates.
** Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl.
*/

import { OcdCodeGenerator } from './OcdCodeGenerator.js'

export class OciTerraformGenerator extends OcdCodeGenerator {
    constructor () {
        super()
        this.ignoreAttributes = [...this.commonElements, ...this.commonIgnoreElements]
    }

    /*
    ** Content for the top level file. This will only be created if it does not exists.
    */
   content = (resource, schema) => {
    const schemaObjects = this.getSchemaObjects(schema)
    const contents = `${this.copyright()}

import * as AutoGenerated from "./${this.generatedDirectory()}/${this.interfaceName(resource)}"

export class ${this.className(resource)} extends AutoGenerated.${this.autoGeneratedClassName(resource)} {}

export default ${this.className(resource)}
`
    return contents
   }

    /*
    ** Content for the auto generated file this will be written on each execution.
    */
    autoGeneratedContent = (resource, schema) => {
        const schemaObjects = this.getSchemaObjects(schema)
        const contents = `${this.copyright()}
${this.autoGeneratedWarning()}

import { ${this.prefix}Resource } from "../../${this.prefix}Resource"
import * as Model  from '../../../../../../model/provider/oci/resources/${this.resourceModelFilename(resource)}'

export class ${this.autoGeneratedClassName(resource)} {
    resource: Model.${this.modelInterfaceName(resource)}
    /*
    ** Generate Terraform Resource / Data Statement(s)
    */
   generate = () => {}
}

export default ${this.autoGeneratedClassName(resource)}
`
        return contents
    }

    resourceFilename = (resource) => `${this.resourceModelFilename(resource)}.ts`

    resourceName = (resource) => `${this.resourceTerraformName(resource)}`

    interfaceName = (resource) => this.resourceName(resource)
    autoGeneratedInterfaceName = (resource) => this.autoGeneratedResourceName(resource)

    className = (resource) => `${this.resourceName(resource)}`
    autoGeneratedClassName = (resource) => `${this.autoGeneratedResourceName(resource)}`
}

export default OciTerraformGenerator
